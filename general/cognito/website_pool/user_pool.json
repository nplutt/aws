{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "This cloudformation template creates a cognito user pool",
    "Resources": {
        "web": {
            "Properties": {
                "ClientName": "web",
                "GenerateSecret": "false",
                "RefreshTokenValidity": 30,
                "UserPoolId": {
                    "Ref": "websitename"
                }
            },
            "Type": "AWS::Cognito::UserPoolClient"
        },
        "websitename": {
            "Properties": {
                "AutoVerifiedAttributes": [
                    "email"
                ],
                "EmailVerificationMessage": "Your verification code is {####}.",
                "EmailVerificationSubject": "Your verification code",
                "Policies": {
                    "PasswordPolicy": {
                        "MinimumLength": 8,
                        "RequireLowercase": "true",
                        "RequireNumbers": "true",
                        "RequireSymbols": "true",
                        "RequireUppercase": "true"
                    }
                },
                "Schema": [
                    {
                        "Name": "email",
                        "Required": "true"
                    }
                ],
                "UserPoolName": "websitename"
            },
            "Type": "AWS::Cognito::UserPool"
        }
    }
}