{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "This cloudformation template creates an s3 bucket for build artifacts",
    "Resources": {
        "npluttOnlinePythonArtifacts": {
            "Properties": {
                "BucketName": "nplutt-online-python-artifacts",
                "NotificationConfiguration": {
                    "LambdaConfigurations": [
                        {
                            "Event": "s3:ObjectCreated:Put",
                            "Function": {
                                "Fn::Join": [
                                    ":",
                                    [
                                        "arn",
                                        "aws",
                                        "lambda",
                                        {
                                            "Ref": "AWS::Region"
                                        },
                                        {
                                            "Ref": "AWS::AccountId"
                                        },
                                        "function",
                                        "install-dev-install"
                                    ]
                                ]
                            }
                        }
                    ]
                },
                "VersioningConfiguration": {
                    "Status": "Enabled"
                }
            },
            "Type": "AWS::S3::Bucket"
        }
    }
}